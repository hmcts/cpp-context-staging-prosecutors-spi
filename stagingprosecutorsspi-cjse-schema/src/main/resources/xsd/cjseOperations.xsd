<?xml version="1.0" encoding="UTF-8"?><!--	CJS Exchange: Business Level Interface - Operational Messages - ExISSR1 Operations ONLY - CUT TO SUPPORT ExISSR1 Operational Specification 1.1	Version 1.1	 05-11-2004	Author: Lawson Davies		Updated:					Comment	20-April-2004				Initial Creation to support version 0.2 of ExISS R1 Operational Interface Spec (X009b)	25-April-2004				In line with comments on version 0.2 of ExISS R1 Operational Interface Spec (X009b)	03-May-2004				Reworking to support DCA requirements	17-May-2004				Version to support version 0.10 of ExISS R1 Operational Interface Spec (X009b)									includes Reworking of  RouteDataResponseType								to support a Fix for Vivista to avoid a .NET bug 								(see http://www.kbalterzcom/Feedback_328349.aspx  and 								Article Q328349 in the Microsoft Knowledgebase)								plus removal of enumations for SystemIdentifierType and DataStreamContentType as previously expected	27-May-2004				Version to support version 0.11 of ExISS R1 Operational Interface Spec (X009b)								RouteID in RouteData response became mandatory								also all version attributes set to fixed value 1.0 in anticipation of sign off of spec 	02-June-2004				Jai Dudhia :								Changed (BusinessEntity Element) 'ContentType' to 'cjseType:DataStreamContentType' as opposed to								cjseType:DataStreamPayloadContentType.								Removed restriction (BusinessType Element) on 'DataStreamPayloadContentType' from (4-20) to just string type.	07-June-2004				Lawson Davies :								Reversed previous change, but allowed DataStreamContent in DataStream to be an unbounded, whitespace preserved string.	14-June-2004				Lawson Davies:								one instance of the literalvalue attribute (on SystemID) had stayed as required instead of switching to optional.	17-June-2004				Lawson Davies								version signed off - unchanged from previous 0.14	05-November-2004			Lawson Davies: (version 1.1 of Op Spec)								Changes OrgainzationalUnitID in SystemDetailsStructure from Mandatory to Optional as per Op Spec 								change from17-May-2004. No changes made to cjseBusinessTypes or cjseBusinessEntities.	25-January-2004			Lawson Davies:								Disallows spaces from Correlation IDs as per CREXr1-010.								Removes Urgency, Expiry, Receipt Required from RouteDataRequest as per CREXr1-011.								No changes made to cjseBusinessTypes or cjseBusinessEntities.		NOTE: a future version will include an update to use CJIT Data Standards schemas (once these have been signed off) 		--><xsd:schema xmlns:xs="http://www.w3.org/2001/XMLSchema" targetNamespace="http://schemas.cjse.gov.uk/common/operations" xmlns:cjseOps="http://schemas.cjse.gov.uk/common/operations" xmlns:cjseEntity="http://schemas.cjse.gov.uk/common/businessentities" xmlns:cjseType="http://schemas.cjse.gov.uk/common/businesstypes" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" elementFormDefault="qualified" attributeFormDefault="unqualified" version="1.2" id="cjseOperations">		<xs:import schemaLocation="CPP-StdProsPoliceCase-v1-2.xsd"			   namespace="http://www.dca.gov.uk/xmlschemas/libra"/>	<!-- Imports & Includes-->	<xsd:import namespace="http://schemas.cjse.gov.uk/common/businessentities" schemaLocation="cjseBusinessEntities.xsd"/>	<xsd:import namespace="http://schemas.cjse.gov.uk/common/businesstypes" schemaLocation="cjseBusinessTypes.xsd"/>	<xs:import schemaLocation="CPP-StdProsPoliceCase-v1-2.xsd"			   namespace="http://www.dca.gov.uk/xmlschemas/libra"/>	<!--				Complex Types			-->	<xsd:complexType name="BusinessMessageBaseType" abstract="true">		<xsd:annotation>			<xsd:documentation>Base Type for any message</xsd:documentation>		</xsd:annotation>		<xsd:attribute name="VersionNumber" type="xsd:NMTOKEN" use="required" fixed="1.0"/>		<xsd:attribute name="RequestResponse" type="cjseOps:MessageType" use="required"/>	</xsd:complexType>	<xsd:complexType name="DataStreamStructure" mixed="false">		<xsd:annotation>			<xsd:documentation>Definition of a Data Stream</xsd:documentation>		</xsd:annotation>		<xsd:complexContent mixed="false">			<xsd:extension base="cjseEntity:DataStreamStructure">				<xsd:sequence>					<xsd:element name="RequestedRoute" maxOccurs="unbounded">						<xsd:annotation>							<xsd:documentation>Systems to which the sender has explicitly asked that the data stream be sent</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:SystemIdentifierType">									<xsd:attribute name="RouteID" type="xsd:integer" use="required">										<xsd:annotation>											<xsd:documentation source="a numeric sequential ID for each route in this operation"/>										</xsd:annotation>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="DataStreamPermissions" type="cjseType:DisclosureListStructure" minOccurs="0">						<xsd:annotation>							<xsd:documentation>OUs which have various permissions against the Data Stream (typically applies to requesting subscription access for a DataStream)</xsd:documentation>						</xsd:annotation>					</xsd:element>				</xsd:sequence>			</xsd:extension>		</xsd:complexContent>	</xsd:complexType>	<!-- 					Operation Base Types 					-->	<xsd:complexType name="OperationRequestBase" abstract="true" mixed="false">		<xsd:annotation>			<xsd:documentation>Op Request Base</xsd:documentation>		</xsd:annotation>		<xsd:complexContent mixed="false">			<xsd:extension base="cjseOps:BusinessMessageBaseType">				<xsd:sequence>					<xsd:element name="RequestFromSystem" type="cjseOps:SystemDetailsStructure">						<xsd:annotation>							<xsd:documentation>This is the Basic information for any request message - what's in it will vary from Hop#1 to Hop#2</xsd:documentation>						</xsd:annotation>					</xsd:element>				</xsd:sequence>			</xsd:extension>		</xsd:complexContent>	</xsd:complexType>	<xsd:complexType name="OperationResponseBase" abstract="false" mixed="false">		<xsd:annotation>			<xsd:documentation>Op Response Base</xsd:documentation>		</xsd:annotation>		<xsd:complexContent mixed="false">			<xsd:extension base="cjseOps:BusinessMessageBaseType">				<xsd:sequence>					<xsd:element name="ResponseToSystem" type="cjseOps:SystemDetailsStructure"/>					<xsd:element name="OperationStatus" type="cjseOps:OperationStatusStructure" maxOccurs="unbounded"/>				</xsd:sequence>			</xsd:extension>		</xsd:complexContent>	</xsd:complexType>	<xsd:complexType name="OperationStatusStructure">		<xsd:annotation>			<xsd:documentation>Op Status (used in Op Response)</xsd:documentation>		</xsd:annotation>		<xsd:sequence>			<xsd:element name="StatusClass">				<xsd:simpleType>					<xsd:restriction base="xsd:string">						<xsd:whiteSpace value="preserve"/>						<xsd:minLength value="1"/>						<xsd:maxLength value="100"/>					</xsd:restriction>				</xsd:simpleType>			</xsd:element>			<xsd:element name="Code" type="xsd:int"/>			<xsd:element name="Description" minOccurs="0">				<xsd:simpleType>					<xsd:restriction base="xsd:string">						<xsd:whiteSpace value="preserve"/>						<xsd:minLength value="1"/>						<xsd:maxLength value="200"/>					</xsd:restriction>				</xsd:simpleType>			</xsd:element>			<xsd:element name="ResponseContext" minOccurs="0">				<xsd:annotation>					<xsd:documentation>Any extra information on the context to the response</xsd:documentation>				</xsd:annotation>				<xsd:simpleType>					<xsd:restriction base="xsd:string">						<xsd:whiteSpace value="preserve"/>						<xsd:minLength value="1"/>						<xsd:maxLength value="300"/>					</xsd:restriction>				</xsd:simpleType>			</xsd:element>		</xsd:sequence>	</xsd:complexType>	<!-- 					End of Operation Base Types 				-->	<!-- 					Specific Operation Request & Response Types 		-->	<xsd:complexType name="RouteDataRequestType" mixed="false">		<xsd:annotation>			<xsd:documentation>a request to route data</xsd:documentation>		</xsd:annotation>		<xsd:complexContent mixed="false">			<xsd:extension base="cjseOps:OperationRequestBase">				<xsd:sequence>					<xsd:element name="DataStream" type="cjseEntity:DataStreamStructure">						<xsd:annotation>							<xsd:documentation>This is the actual Data Stream being routed - it will remain the same whether in Hop #1 from the DataStream Sender to the CJSE or in Hop #2 from the CJSE to the DataStream Receiver</xsd:documentation>						</xsd:annotation>					</xsd:element>					<xsd:element name="DataStreamPermissions" type="cjseType:DisclosureListStructure" minOccurs="0">						<xsd:annotation>							<xsd:documentation>This is an optional list of OUs which have various permissions against the Data Stream (typically applies to requesting subscription access for a DataStream and so relies on the ability to send the same data stream again when requested to do so) - we may dispense with this altogether! This WILL NOT BE PRESENT IN ExISS R1 DataStream Routing</xsd:documentation>						</xsd:annotation>					</xsd:element>					<xsd:element name="Routes">						<xsd:complexType>							<xsd:complexContent>								<xsd:extension base="cjseOps:RouteDataStreamListType">									<xsd:attribute name="VersionNumber" type="xsd:NMTOKEN" use="required" fixed="1.0"/>								</xsd:extension>							</xsd:complexContent>						</xsd:complexType>					</xsd:element>				</xsd:sequence>			</xsd:extension>		</xsd:complexContent>	</xsd:complexType>	<xsd:complexType name="RouteDataResponseType" mixed="false">		<xsd:annotation>			<xsd:documentation>a response to a request to route data</xsd:documentation>		</xsd:annotation>		<xsd:sequence>			<xsd:element name="ResponseToSystem" type="cjseOps:SystemDetailsStructure"/>			<xsd:element name="OperationStatus" maxOccurs="unbounded">				<xsd:complexType>					<xsd:complexContent>						<xsd:extension base="cjseOps:OperationStatusStructure">							<xsd:sequence>								<xsd:element name="RouteId">									<xsd:simpleType>										<xsd:restriction base="xsd:string">											<xsd:minLength value="1"/>											<xsd:maxLength value="50"/>										</xsd:restriction>									</xsd:simpleType>								</xsd:element>							</xsd:sequence>						</xsd:extension>					</xsd:complexContent>				</xsd:complexType>			</xsd:element>		</xsd:sequence>		<xsd:attribute name="VersionNumber" type="xsd:NMTOKEN" use="required" fixed="1.0"/>	</xsd:complexType>	<!--					End of Specific Operation Request & Response Types				 -->	<!--					Complex Types for Routes and Lists of Routes						-->	<xsd:complexType name="RouteDataStreamType" mixed="false">		<xsd:annotation>			<xsd:documentation>a route</xsd:documentation>		</xsd:annotation>		<xsd:sequence>			<xsd:element name="RouteID">				<xsd:annotation>					<xsd:documentation>An Identifier for this instance of a data stream routing - this could be a sequential No since, when coupled with the SystemDataStreamID, it will uniquely identify a route instance for a particular data stream instance - incorrect format can cause an error</xsd:documentation>				</xsd:annotation>				<xsd:simpleType>					<xsd:restriction base="xsd:string">						<xsd:minLength value="1"/>						<xsd:maxLength value="50"/>					</xsd:restriction>				</xsd:simpleType>			</xsd:element>			<xsd:element name="RouteSourceSystem">				<xsd:annotation>					<xsd:documentation>The system from where the data stream was originally sent - incorrect format/value can cause an error</xsd:documentation>				</xsd:annotation>				<xsd:complexType>					<xsd:simpleContent>						<xsd:extension base="cjseType:SystemIdentifierType">							<xsd:attribute name="literalvalue" use="optional">								<xsd:simpleType>									<xsd:restriction base="xsd:string">										<xsd:whiteSpace value="preserve"/>										<xsd:minLength value="1"/>										<xsd:maxLength value="50"/>									</xsd:restriction>								</xsd:simpleType>							</xsd:attribute>						</xsd:extension>					</xsd:simpleContent>				</xsd:complexType>			</xsd:element>			<xsd:element name="RouteDestinationSystem">				<xsd:annotation>					<xsd:documentation>The system that the originating system has asked the DataStream to be routed to - incorrect format/value can cause an error</xsd:documentation>				</xsd:annotation>				<xsd:complexType>					<xsd:simpleContent>						<xsd:extension base="cjseType:SystemIdentifierType">							<xsd:attribute name="literalvalue" use="optional">								<xsd:simpleType>									<xsd:restriction base="xsd:string">										<xsd:whiteSpace value="preserve"/>									</xsd:restriction>								</xsd:simpleType>							</xsd:attribute>						</xsd:extension>					</xsd:simpleContent>				</xsd:complexType>			</xsd:element>			<xsd:element name="Descriptor" minOccurs="0">				<xsd:annotation>					<xsd:documentation>A textual description for this instance of a routing of a data stream</xsd:documentation>				</xsd:annotation>				<xsd:simpleType>					<xsd:restriction base="xsd:string">						<xsd:minLength value="1"/>						<xsd:maxLength value="50"/>					</xsd:restriction>				</xsd:simpleType>			</xsd:element>		</xsd:sequence>		<xsd:attribute name="VersionNumber" type="xsd:NMTOKEN" use="required" fixed="1.0"/>	</xsd:complexType>	<xsd:complexType name="RouteDataStreamListType" mixed="false">		<xsd:annotation>			<xsd:documentation>one or more routes</xsd:documentation>		</xsd:annotation>		<xsd:sequence>			<xsd:element name="Route" type="cjseOps:RouteDataStreamType" maxOccurs="unbounded">				<xsd:annotation>					<xsd:documentation>One or more routes for the data stream. There always has to be at least one - could be more when sending to a router e.g. CJSE, but when sending to a route's ultimate destination itself only 1 route would be present. This element could be made optional IF Default routing lists were stored in the CJSE for DataStreams by Type and System. CURRENTLY AREN'T</xsd:documentation>				</xsd:annotation>			</xsd:element>		</xsd:sequence>	</xsd:complexType>	<!--					End of Complex Types for Routes and Lists of Routes				-->	<xsd:complexType name="SystemDetailsStructure" mixed="false">		<xsd:annotation>			<xsd:documentation>the details always used on a request or response</xsd:documentation>		</xsd:annotation>		<xsd:complexContent mixed="false">			<xsd:extension base="cjseEntity:BusinessEntityBase">				<xsd:sequence>					<xsd:element name="CorrelationID">						<xsd:annotation>							<xsd:documentation>This is the unique number for this operational request/response to correlate asynchronous requests and responses - for RouteData would need to be different from Hop#1 to Hop#2 - incorrect format will cause an error</xsd:documentation>						</xsd:annotation>						<xsd:simpleType>							<xsd:restriction base="xsd:string">								<xsd:minLength value="1"/>								<xsd:maxLength value="50"/>								<xsd:pattern value="\S+"/>							</xsd:restriction>						</xsd:simpleType>					</xsd:element>					<xsd:element name="SystemID">						<xsd:annotation>							<xsd:documentation>The System sending the request/response i.e. the DataStream Sender system - for RouteData would need to be different from Hop#1 to Hop#2 - incorrect format will cause an error</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:SystemIdentifierType">									<xsd:attribute name="literalvalue" use="optional">										<xsd:simpleType>											<xsd:restriction base="xsd:string">												<xsd:whiteSpace value="preserve"/>											</xsd:restriction>										</xsd:simpleType>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="OrganizationalUnitID" minOccurs="0">						<xsd:annotation>							<xsd:documentation>The OU (Location) sending the request/response i.e. the DataStream Sender system's OU - for RouteData would need to be different from Hop#1 to Hop#2 - incorrect format will cause an error</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:OrganisationalUnitIdentifierType">									<xsd:attribute name="literalvalue" use="optional">										<xsd:simpleType>											<xsd:restriction base="xsd:string">												<xsd:whiteSpace value="preserve"/>											</xsd:restriction>										</xsd:simpleType>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="DataController" minOccurs="0">						<xsd:annotation>							<xsd:documentation>The Data Controller for any data sent i.e. the DataStream sender's DC- I think this could stay the same for both Hop#1 and Hop#2 - incorrect format/value can cause an error</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:DataControllerType">									<xsd:attribute name="literalvalue" use="optional">										<xsd:simpleType>											<xsd:restriction base="xsd:string">												<xsd:whiteSpace value="preserve"/>											</xsd:restriction>										</xsd:simpleType>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="User" minOccurs="0">						<xsd:annotation>							<xsd:documentation>The user (if applicable) sending the request/response - NOT REQUIRED FOR EXISS R1</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:SystemUserType">									<xsd:attribute name="literalvalue" use="optional">										<xsd:simpleType>											<xsd:restriction base="xsd:string">												<xsd:whiteSpace value="preserve"/>											</xsd:restriction>										</xsd:simpleType>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="SourceID" minOccurs="0">						<xsd:annotation>							<xsd:documentation>NOT REQUIRED FOR ExISS R1 System Use</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:SystemIdentifierType">									<xsd:attribute name="literalvalue" use="optional">										<xsd:simpleType>											<xsd:restriction base="xsd:string">												<xsd:whiteSpace value="preserve"/>											</xsd:restriction>										</xsd:simpleType>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="DestinationID" minOccurs="0">						<xsd:annotation>							<xsd:documentation>NOT REQUIRED FOR ExISS R1 System Use</xsd:documentation>						</xsd:annotation>						<xsd:complexType>							<xsd:simpleContent>								<xsd:extension base="cjseType:SystemIdentifierType">									<xsd:attribute name="literalvalue" use="optional">										<xsd:simpleType>											<xsd:restriction base="xsd:string">												<xsd:whiteSpace value="preserve"/>											</xsd:restriction>										</xsd:simpleType>									</xsd:attribute>								</xsd:extension>							</xsd:simpleContent>						</xsd:complexType>					</xsd:element>					<xsd:element name="TestOperation" type="xsd:boolean" minOccurs="0">						<xsd:annotation>							<xsd:documentation>This indicator if present and set to Yes means that this is a test op. Otherwise operations are treated as live.</xsd:documentation>						</xsd:annotation>					</xsd:element>				</xsd:sequence>			</xsd:extension>		</xsd:complexContent>	</xsd:complexType>	<!--				End of ComplexTypes				-->	<!--				Simple Types						-->	<!-- 					Message Base Types				-->	<xsd:simpleType name="MessageType">		<xsd:annotation>			<xsd:documentation>enumerated type used to indicate the sort of message</xsd:documentation>		</xsd:annotation>		<xsd:restriction base="xsd:string">			<xsd:enumeration value="Request"/>			<xsd:enumeration value="Acknowledgement"/>			<xsd:enumeration value="StatusUpate"/>			<xsd:enumeration value="Result"/>			<xsd:enumeration value="Notification"/>		</xsd:restriction>	</xsd:simpleType>	<!-- 					End of Message Base Types				-->	<!--				End of Simple Types							-->	<!--				Elements that can be used for sample generation etc.		-->	<xsd:element name="RouteData" type="cjseOps:RouteDataRequestType">		<xsd:annotation>			<xsd:documentation>a request to route data operation </xsd:documentation>		</xsd:annotation>	</xsd:element>	<xsd:element name="RouteDataResp" type="cjseOps:RouteDataResponseType">		<xsd:annotation>			<xsd:documentation>a response to a route data operation</xsd:documentation>		</xsd:annotation>	</xsd:element>	<!--				End of Elements that can be used for sample generation etc.		--></xsd:schema>